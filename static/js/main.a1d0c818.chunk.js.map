{"version":3,"sources":["redux-store/index.js","components/App/ThemeProvider.jsx","components/App/App.jsx","components/App/hooks/useScrollRestoration.js","index.js","redux-store/superheroes/superheroesSlice.js","redux-store/rootReducer.js","redux-store/favorite/favoriteSlice.js","helpers/localStorage.js","services/httpClent.js","helpers/normalizeData.js","api/superhero.js","components/Fullscreen/Fullscreen.jsx"],"names":["store","configureStore","devTools","process","reducer","rootReducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","ThemeProvider","props","children","prefersDarkMode","useMedia","theme","useMemo","createTheme","palette","type","fallback","Fullscreen","CircularProgress","size","Home","React","lazy","Superhero","Favorites","queryClient","QueryClient","App","useLayoutEffect","window","history","scrollRestoration","QueryClientProvider","client","CssBaseline","path","exact","ReactDOM","render","document","getElementById","fetchSuperheroesList","createAsyncThunk","a","SuperheroApi","fetchAllCharacters","condition","_","getState","fromRoot","isSuccess","isLoading","fetchSuperheroById","id","fetchCharacterById","superheroesSlice","createSlice","name","initialState","characters","isError","data","error","charactersPool","reducers","editCharacter","state","action","payload","extraReducers","pending","fulfilled","rejected","meta","arg","actions","selectSuperheroFromPoolById","selectSuperheroById","superheroFromPool","pool","selectSuperheroesIds","ids","selectSuperheroesError","selectSuperheroesFetchingStatus","createSelector","selectSuperheroFetchingStatusFromPool","combineReducers","superheroes","superheroesReducer","favoriteSuperheroes","favoriteSuperheroesReducer","fromSuperheroes","selectIsFavoriteSuperhero","fromFavoriteSuperheroes","selectFavoritesIds","favoriteSlice","localStorage","getItem","addToFavorite","setItem","removeFromFavorite","Object","keys","filter","deserializer","value","JSON","parse","assign","key","item","stringify","String","serializer","httpClient","axios","create","baseURL","timeout","paramsSerializer","params","queryString","arrayFormat","defaultExtractor","idx","list","normalizeData","raw","extractor","normalizedData","indices","forEach","rawItem","push","get","url","images","lg","slug","image","fetchSearchedByName","results","_transformCharacter","response","Number","powerstats","intelligence","strength","speed","durability","power","combat","biography","fullName","alterEgos","aliases","placeOfBirth","firstAppearance","publisher","alignment","appearance","gender","race","height","weight","eyeColor","hairColor","work","occupation","base","connections","groupAffiliation","relatives","useStyles","makeStyles","root","position","top","left","right","bottom","zIndex","modal","inner","transform","styles","className"],"mappings":"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","file":"static/js/main.a1d0c818.chunk.js","sourcesContent":["import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport { rootReducer } from 'redux-store/rootReducer';\r\n\r\nexport const store = configureStore({\r\n  devTools: process.env.NODE_ENV !== 'production',\r\n  reducer: rootReducer,\r\n  middleware: getDefaultMiddleware({\r\n    immutableCheck: false,\r\n    serializableCheck: false,\r\n  }),\r\n});\r\n","import React, { useMemo } from 'react';\r\nimport { useMedia } from 'react-use';\r\nimport { createTheme } from '@material-ui/core';\r\n\r\nimport { ThemeProvider as Provider } from '@material-ui/styles';\r\n\r\nexport const ThemeProvider = props => {\r\n  const { children } = props;\r\n  const prefersDarkMode = useMedia('(prefers-color-scheme: dark)');\r\n\r\n  const theme = useMemo(() => {\r\n    return createTheme({\r\n      palette: { type: prefersDarkMode ? 'dark' : 'light' },\r\n    });\r\n  }, [prefersDarkMode]);\r\n\r\n  return (\r\n    <Provider theme={theme}>\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ThemeProvider.displayName = 'ThemeProvider';\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { ReactQueryDevtools } from 'react-query/devtools';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { store } from 'redux-store';\r\n\r\nimport { Fullscreen } from 'components/Fullscreen';\r\n\r\nimport { useScrollRestoration } from 'components/App/hooks/useScrollRestoration';\r\nimport { ThemeProvider } from 'components/App/ThemeProvider';\r\n\r\nconst fallback = (\r\n  <Fullscreen>\r\n    <CircularProgress size={100}/>\r\n  </Fullscreen>\r\n);\r\n\r\nconst Home = React.lazy(() => {\r\n  return import(\r\n    /* webpackChunkName: \"HomePage\" */\r\n    /* webpackPreload: true */\r\n    'pages/home');\r\n});\r\n\r\nconst Superhero = React.lazy(() => {\r\n  return import(\r\n    /* webpackChunkName: \"SuperheroPage\" */\r\n    /* webpackPreload: true */\r\n    'pages/superhero');\r\n});\r\n\r\nconst Favorites = React.lazy(() => {\r\n  return import(\r\n    /* webpackChunkName: \"FavoritesPage\" */\r\n    /* webpackPreload: true */\r\n    'pages/favorites');\r\n});\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport const App = () => {\r\n  useScrollRestoration();\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Provider store={store}>\r\n        <ThemeProvider>\r\n          <CssBaseline/>\r\n\r\n          <Router>\r\n            <Switch>\r\n              <Route path={'/'} exact>\r\n                <Suspense fallback={fallback}>\r\n                  <Home/>\r\n                </Suspense>\r\n              </Route>\r\n              <Route path={'/superhero/:id'} exact>\r\n                <Suspense fallback={fallback}>\r\n                  <Superhero/>\r\n                </Suspense>\r\n              </Route>\r\n              <Route path={'/favorites'} exact>\r\n                <Suspense fallback={fallback}>\r\n                  <Favorites/>\r\n                </Suspense>\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n\r\n          {process.env.NODE_ENV !== 'production' && (\r\n            <ReactQueryDevtools initialIsOpen={false}/>\r\n          )}\r\n        </ThemeProvider>\r\n      </Provider>\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  App.displayName = 'App';\r\n}\r\n","import { useLayoutEffect } from 'react';\r\n\r\nexport const useScrollRestoration = () => {\r\n  useLayoutEffect(() => {\r\n    const canControlScrollRestoration = 'scrollRestoration' in window.history;\r\n\r\n    if (canControlScrollRestoration) {\r\n      window.history.scrollRestoration = 'manual';\r\n    }\r\n  });\r\n};\r\n","import ReactDOM from 'react-dom';\r\nimport { App } from 'components/App';\r\n\r\nReactDOM.render(\r\n  <App/>,\r\ndocument.getElementById('root'),\r\n);\r\n","import { createAsyncThunk, createSelector, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { SuperheroApi } from 'api/superhero';\r\nimport * as fromRoot from 'redux-store/rootReducer';\r\n\r\nexport const fetchSuperheroesList = createAsyncThunk(\r\n  'charactersList',\r\n  async () => {\r\n    try {\r\n      return await SuperheroApi.fetchAllCharacters();\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  },\r\n  {\r\n    condition: (_, { getState }) => {\r\n      const { isSuccess, isLoading } = fromRoot.selectSuperheroesFetchingStatus(getState());\r\n      return !(isLoading || isSuccess);\r\n    },\r\n  },\r\n);\r\n\r\nexport const fetchSuperheroById = createAsyncThunk(\r\n  'character',\r\n  async ({ id }) => {\r\n    try {\r\n      return await SuperheroApi.fetchCharacterById({ id });\r\n    } catch (e) {\r\n      throw e;\r\n    }\r\n  },\r\n  {\r\n    condition: ({ id }, { getState }) => {\r\n      const superhero = fromRoot.selectSuperheroFromPoolById(getState(), id);\r\n      return !superhero;\r\n    },\r\n  },\r\n);\r\n\r\nconst superheroesSlice = createSlice({\r\n  name: 'superheroes',\r\n  initialState: {\r\n    characters: {\r\n      isLoading: false,\r\n      isError: false,\r\n      isSuccess: false,\r\n      data: null,\r\n      error: null,\r\n    },\r\n    charactersPool: {},\r\n  },\r\n  reducers: {\r\n    editCharacter: (state, action) => {\r\n      const { id, data } = action.payload;\r\n      state.charactersPool[id].data = data;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchSuperheroesList.pending]: state => {\r\n      state.characters.isLoading = true;\r\n    },\r\n    [fetchSuperheroesList.fulfilled]: (state, action) => {\r\n      state.characters.isLoading = false;\r\n      state.characters.isSuccess = true;\r\n      state.characters.data = action.payload;\r\n    },\r\n    [fetchSuperheroesList.rejected]: (state, action) => {\r\n      state.characters.isLoading = false;\r\n      state.characters.isError = true;\r\n      state.characters.error = action.payload;\r\n    },\r\n\r\n    [fetchSuperheroById.pending]: (state, action) => {\r\n      const { id } = action.meta.arg;\r\n      if (!state.charactersPool[id]) {\r\n        state.charactersPool[id] = {};\r\n      }\r\n\r\n      state.charactersPool[id].isLoading = true;\r\n    },\r\n    [fetchSuperheroById.fulfilled]: (state, action) => {\r\n      const { id } = action.meta.arg;\r\n      state.charactersPool[id].isLoading = false;\r\n      state.charactersPool[id].isSuccess = true;\r\n      state.charactersPool[id].data = action.payload;\r\n    },\r\n    [fetchSuperheroById.rejected]: (state, action) => {\r\n      const { id } = action.meta.arg;\r\n      state.charactersPool[id].isLoading = false;\r\n      state.charactersPool[id].isError = true;\r\n      state.charactersPool[id].error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default superheroesSlice.reducer;\r\n\r\nexport const { editCharacter } = superheroesSlice.actions;\r\n\r\nexport const selectSuperheroFromPoolById = (state, id) => {\r\n  if (id in state.charactersPool) {\r\n    return state.charactersPool[id].data;\r\n  }\r\n};\r\n\r\nexport const selectSuperheroById = (state, id) => {\r\n  const superheroFromPool = selectSuperheroFromPoolById(state, id);\r\n\r\n  if (superheroFromPool) {\r\n    return superheroFromPool;\r\n  }\r\n\r\n  if (state.characters.data) {\r\n    return state.characters.data.pool[id];\r\n  }\r\n};\r\n\r\nexport const selectSuperheroesIds = state => {\r\n  if (state.characters.data) {\r\n    return state.characters.data.ids;\r\n  }\r\n};\r\n\r\nexport const selectSuperheroesError = state => {\r\n  if (state.characters.error) {\r\n    return state.characters.error;\r\n  }\r\n};\r\n\r\nexport const selectSuperheroesFetchingStatus = createSelector(\r\n  [\r\n    state => state.characters.isLoading,\r\n    state => state.characters.isSuccess,\r\n    state => state.characters.isError,\r\n  ],\r\n  (isLoading, isSuccess, isError) => ({ isLoading, isSuccess, isError }),\r\n);\r\n\r\nexport const selectSuperheroFetchingStatusFromPool = createSelector(\r\n  [\r\n    (state, id) => state.charactersPool[id]?.isLoading ?? false,\r\n    (state, id) => state.charactersPool[id]?.isSuccess ?? false,\r\n    (state, id) => state.charactersPool[id]?.isError ?? false,\r\n  ],\r\n  (isLoading, isSuccess, isError) => ({ isLoading, isSuccess, isError }),\r\n);\r\n","import { combineReducers } from '@reduxjs/toolkit';\r\nimport superheroesReducer, * as fromSuperheroes from 'redux-store/superheroes/superheroesSlice';\r\nimport favoriteSuperheroesReducer, * as fromFavoriteSuperheroes from 'redux-store/favorite/favoriteSlice';\r\n\r\nexport const rootReducer = combineReducers({\r\n  superheroes: superheroesReducer,\r\n  favoriteSuperheroes: favoriteSuperheroesReducer,\r\n});\r\n\r\nexport const selectSuperheroesIds = state =>\r\n  fromSuperheroes.selectSuperheroesIds(state.superheroes);\r\n\r\nexport const selectSuperheroesError = state =>\r\n  fromSuperheroes.selectSuperheroesError(state.superheroes);\r\n\r\nexport const selectSuperheroesFetchingStatus = state =>\r\n  fromSuperheroes.selectSuperheroesFetchingStatus(state.superheroes);\r\n\r\nexport const selectSuperheroById = (state, id) =>\r\n  fromSuperheroes.selectSuperheroById(state.superheroes, id);\r\n\r\nexport const selectSuperheroFromPoolById = (state, id) =>\r\n  fromSuperheroes.selectSuperheroFromPoolById(state.superheroes, id);\r\n\r\nexport const selectSuperheroFetchingStatusFromPool = (state, id) =>\r\n  fromSuperheroes.selectSuperheroFetchingStatusFromPool(state.superheroes, id);\r\n\r\nexport const selectIsFavoriteSuperhero = (state, id) =>\r\n  fromFavoriteSuperheroes.selectIsFavoriteSuperhero(state.favoriteSuperheroes, id);\r\n\r\nexport const selectFavoritesIds = state =>\r\n  fromFavoriteSuperheroes.selectFavoritesIds(state.favoriteSuperheroes);\r\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\r\nimport { localStorage } from 'helpers/localStorage';\r\n\r\nexport const favoriteSlice = createSlice({\r\n  name: 'favoriteSuperheroes',\r\n  initialState: localStorage.getItem('favoriteSuperheroes', {}),\r\n  reducers: {\r\n    addToFavorite: (state, action) => {\r\n      const { id } = action.payload;\r\n      state[id] = true;\r\n      localStorage.setItem('favoriteSuperheroes', state);\r\n    },\r\n    removeFromFavorite: (state, action) => {\r\n      const { id } = action.payload;\r\n      state[id] = false;\r\n      localStorage.setItem('favoriteSuperheroes', state);\r\n    },\r\n  },\r\n});\r\n\r\nexport default favoriteSlice.reducer;\r\nexport const { addToFavorite, removeFromFavorite } = favoriteSlice.actions;\r\n\r\nexport const selectIsFavoriteSuperhero = (state, id) => {\r\n  if (id in state) {\r\n    return state[id];\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport const selectFavoritesIds = createSelector(\r\n  [state => state],\r\n  state => Object.keys(state).filter(id => state[id]),\r\n);\r\n","export const serializer = value => {\r\n  try {\r\n    return JSON.stringify(value);\r\n  } catch {\r\n    return String(value);\r\n  }\r\n};\r\n\r\nexport const deserializer = value => {\r\n  try {\r\n    return JSON.parse(value);\r\n  } catch {\r\n    return value;\r\n  }\r\n};\r\n\r\nexport const localStorage = Object.assign({}, window.localStorage, {\r\n  getItem: (key, fallback = null) => {\r\n    const item = deserializer(window.localStorage.getItem(key));\r\n    if (item === null) {\r\n      return typeof fallback === 'function'\r\n        ? fallback()\r\n        : fallback;\r\n    }\r\n    return item;\r\n  },\r\n\r\n  setItem: (key, value) => {\r\n    window.localStorage.setItem(key, serializer(value));\r\n  },\r\n});\r\n","import axios from 'axios';\r\nimport queryString from 'query-string';\r\n\r\nconst baseURL = (process.env.NODE_ENV === 'production' ? 'https://superheroapi.com/api/' : '/');\r\n\r\nexport const httpClient = axios.create({\r\n  baseURL: baseURL + process.env.REACT_APP_ACCESS_TOKEN,\r\n  timeout: 10 * 1000,\r\n  paramsSerializer: params => queryString.stringify(params, { arrayFormat: 'bracket' }),\r\n});\r\n\r\n","const defaultExtractor = (item, idx, list) => ({ id: item.id, item });\r\n\r\n/**\r\n * @typedef {{ ids: Array, pool: Object, data: Array, indices: Object }} NormalizedData\r\n */\r\n\r\n/**\r\n * @template {Array} T\r\n * @param {T} raw\r\n * @param {function(T, number, Array): { id: string | number, item: * }} [extractor]\r\n * @return {NormalizedData}\r\n */\r\nexport const normalizeData = (raw, extractor = defaultExtractor) => {\r\n  const normalizedData = { ids: [], pool: {}, data: [], indices: {} };\r\n\r\n  raw.forEach((rawItem, idx, list) => {\r\n    const { id, item } = extractor(rawItem, idx, list);\r\n    normalizedData.ids.push(id);\r\n    normalizedData.indices[id] = idx;\r\n    normalizedData.pool[id] = item;\r\n    normalizedData.data.push(item);\r\n  });\r\n\r\n  return normalizedData;\r\n};\r\n","import { httpClient } from 'services/httpClent';\r\nimport { normalizeData } from 'helpers/normalizeData';\r\n\r\nexport const SuperheroApi = {\r\n  fetchAllCharacters: async () => {\r\n    const { data } = await httpClient.get('https://akabab.github.io/superhero-api/api/all.json');\r\n    return normalizeData(data, item => {\r\n      const { lg: url } = item.images;\r\n      delete item.slug;\r\n      delete item.images;\r\n\r\n      item.image = { url };\r\n      return { id: item.id, item };\r\n    });\r\n  },\r\n\r\n  fetchSearchedByName: async params => {\r\n    const { name } = params;\r\n    const { data } = await httpClient.get(`/search/${name}`);\r\n    return data.results;\r\n  },\r\n\r\n  _transformCharacter: response => ({\r\n    id: Number(response.id),\r\n    name: response.name,\r\n    powerstats: {\r\n      intelligence: response.powerstats?.intelligence ? Number(response.powerstats?.intelligence) : '-',\r\n      strength: response.powerstats?.strength ? Number(response.powerstats?.strength) : '-',\r\n      speed: response.powerstats?.speed ? Number(response.powerstats?.speed) : '-',\r\n      durability: response.powerstats?.durability ? Number(response.powerstats?.durability) : '-',\r\n      power: response.powerstats?.power ? Number(response.powerstats?.power) : '-',\r\n      combat: response.powerstats?.combat ? Number(response.powerstats?.combat) : '-',\r\n    },\r\n    biography: {\r\n      fullName: response.biography?.['full-name'] ?? '-',\r\n      alterEgos: response.biography?.['alter-egos'] ?? '-',\r\n      aliases: response.biography?.aliases ?? '-',\r\n      placeOfBirth: response.biography?.['place-of-birth'] ?? '-',\r\n      firstAppearance: response.biography?.['first-appearance'] ?? '-',\r\n      publisher: response.biography?.publisher ?? '-',\r\n      alignment: response.biography?.alignment ?? '-',\r\n    },\r\n    appearance: {\r\n      gender: response.appearance?.gender ?? '-',\r\n      race: response.appearance?.race ?? '-',\r\n      height: response.appearance?.height ?? '-',\r\n      weight: response.appearance?.weight ?? '-',\r\n      eyeColor: response.appearance?.['eye-color'] ?? '-',\r\n      hairColor: response.appearance?.['hair-color'] ?? '-',\r\n    },\r\n    work: {\r\n      occupation: response.work?.occupation ?? '-',\r\n      base: response.work?.base ?? '-',\r\n    },\r\n    connections: {\r\n      groupAffiliation: response.connections?.['group-affiliation'] ?? '-',\r\n      relatives: response.connections?.relatives ?? '-',\r\n    },\r\n    image: {\r\n      url: response.image?.url,\r\n    },\r\n  }),\r\n\r\n  fetchCharacterById: async params => {\r\n    const { id } = params;\r\n    const { data } = await httpClient.get(`/${id}`);\r\n    return SuperheroApi._transformCharacter(data);\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: theme.zIndex.modal,\r\n  },\r\n  inner: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}));\r\n\r\nexport const Fullscreen = props => {\r\n  const { children } = props;\r\n  const styles = useStyles();\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <div className={styles.inner}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Fullscreen.displayName = 'Fullscreen';\r\n}\r\n"],"sourceRoot":""}